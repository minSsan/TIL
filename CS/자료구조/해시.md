# 해시

데이터 값을 기반으로 key 값을 생성하고, key - value 형태로 값을 저장하는 자료구조

- STL - `unordered_set`, `unordered_multiset`, `unordered_map`

### 충돌

> 해시 함수를 통해 데이터 값으로 key 값을 생성하기 때문에, **key 값이 중복되는 경우**가 발생할 수 있다.

특히 해시에서는 이러한 `충돌`에 유의해야 한다.

- 충돌이 빈번해질수록 시간 복잡도가 증가하기 때문에 이에 유의해야 한다. 해시는 **key 값이 중복되지 않을 때**, `O(1)`의 시간복잡도로 사용할 수 있다.

#### 충돌 회피 - Chaining

> value 값을 연결리스트(혹은 vector)로 관리하여, **하나의 key 값에 대응되는 여러 개의 값들을 저장하는 방식**이다.

- 하나의 값을 탐색할 때, 최악의 경우 연결리스트를 모두 순회해야 하므로 `O(N)`의 시간복잡도를 가지게 된다.

#### 충돌 회피 - Open Addressing

> 충돌이 발생하면, **그 다음 번지수에 접근**하는 방식이다.  
> 다음 번지수를 결정하는 방식에 따라 아래와 같이 나눌 수 있다.

- **Linear Probing**  
   충돌이 발생하면, **바로 뒷 번지수에 접근**하는 방식이다.

  - 장점
    1. **cache hit rate가 높음.**
  - 단점
    1. `clustering이 발생`하여 성능을 낮추는 원인이 될 수 있음.  
       👉🏻 하나의 key에 대응되는 값의 개수가 증가하면 clustering(=군집)이 증가한다. 즉, **해당 key에 해당하는 value를 찾을 때 `접근 횟수`가 증가**하게 된다.

- **Quadratic Probing**  
   충돌이 발생하면, key에 대응하는 **처음 위치로부터 (+1, +4, +9, ...) 만큼 떨어진 위치에 순서대로 접근**하는 방식이다.

  - 장점
    1. cache hit rate가 Linear 방식보다는 낮지만 나쁘지 않다.
    2. **clustering을 어느정도 회피**할 수 있다.
  - 단점
    1. **해시 값이 동일하면, 결국 똑같은 경로로 접근**하기 때문에 `여전히 clustering이 발생`한다.

- **Double Hashing**  
   충돌이 발생하면, **다음 위치를 또 `다른 해시 함수`로 계산하는 방식**이다.

  - 장점
    1. **clustering을 효과적으로 회피**할 수 있다.
  - 단점
    1. **cache hit rate가 낮다.**
